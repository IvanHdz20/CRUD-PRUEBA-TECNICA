{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { ref, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { useProductoStore } from \"../stores/productosStore\";\nimport ProductoForm from \"../components/ProductoForm.vue\";\nexport default {\n  name: \"EditarProductoView\",\n  components: {\n    ProductoForm\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const store = useProductoStore();\n    const producto = ref(null);\n    const cargarProducto = async () => {\n      const id = route.params.id;\n      await store.obtenerProductos(); // primero llena store.productos\n      // Buscar en store.productos usando la propiedad correcta\n      producto.value = store.productos.find(p => p.Id == id);\n    };\n    onMounted(() => {\n      cargarProducto();\n    });\n    const guardarProducto = async productoEditado => {\n      await store.editarProducto(productoEditado);\n      router.push(\"/\");\n    };\n    const cancelarEdicion = () => router.push(\"/\");\n    return {\n      producto,\n      guardarProducto,\n      cancelarEdicion\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","useRoute","useProductoStore","ProductoForm","name","components","setup","router","route","store","producto","cargarProducto","id","params","obtenerProductos","value","productos","find","p","Id","guardarProducto","productoEditado","editarProducto","push","cancelarEdicion"],"sources":["C:\\Users\\Elpap\\OneDrive\\Desktop\\CRUD\\productos-vue\\src\\views\\EditarProductoView.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <h1 class=\"text-h4 mb-4\">Editar Producto</h1>\r\n    <ProductoForm\r\n      v-if=\"producto\"\r\n      :productoInicial=\"producto\"\r\n      modo=\"editar\"\r\n      @guardar=\"guardarProducto\"\r\n      @cancelar=\"cancelarEdicion\"\r\n    />\r\n    <div v-else>Cargando producto...</div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { useProductoStore } from \"../stores/productosStore\";\r\nimport ProductoForm from \"../components/ProductoForm.vue\";\r\n\r\nexport default {\r\n  name: \"EditarProductoView\",\r\n  components: { ProductoForm },\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const store = useProductoStore();\r\n    const producto = ref(null);\r\n\r\n    const cargarProducto = async () => {\r\n      const id = route.params.id;\r\n      await store.obtenerProductos(); // primero llena store.productos\r\n      // Buscar en store.productos usando la propiedad correcta\r\n      producto.value = store.productos.find((p) => p.Id == id);\r\n    };\r\n\r\n    onMounted(() => {\r\n      cargarProducto();\r\n    });\r\n\r\n    const guardarProducto = async (productoEditado) => {\r\n      await store.editarProducto(productoEditado);\r\n      router.push(\"/\");\r\n    };\r\n\r\n    const cancelarEdicion = () => router.push(\"/\");\r\n\r\n    return { producto, guardarProducto, cancelarEdicion };\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;;AAeA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAY;AAChD,SAASC,gBAAe,QAAS,0BAA0B;AAC3D,OAAOC,YAAW,MAAO,gCAAgC;AAEzD,eAAe;EACbC,IAAI,EAAE,oBAAoB;EAC1BC,UAAU,EAAE;IAAEF;EAAa,CAAC;EAC5BG,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIP,SAAS,CAAC,CAAC;IAC1B,MAAMQ,KAAI,GAAIP,QAAQ,CAAC,CAAC;IACxB,MAAMQ,KAAI,GAAIP,gBAAgB,CAAC,CAAC;IAChC,MAAMQ,QAAO,GAAIZ,GAAG,CAAC,IAAI,CAAC;IAE1B,MAAMa,cAAa,GAAI,MAAAA,CAAA,KAAY;MACjC,MAAMC,EAAC,GAAIJ,KAAK,CAACK,MAAM,CAACD,EAAE;MAC1B,MAAMH,KAAK,CAACK,gBAAgB,CAAC,CAAC,EAAE;MAChC;MACAJ,QAAQ,CAACK,KAAI,GAAIN,KAAK,CAACO,SAAS,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAC,IAAKP,EAAE,CAAC;IAC1D,CAAC;IAEDb,SAAS,CAAC,MAAM;MACdY,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC;IAEF,MAAMS,eAAc,GAAI,MAAOC,eAAe,IAAK;MACjD,MAAMZ,KAAK,CAACa,cAAc,CAACD,eAAe,CAAC;MAC3Cd,MAAM,CAACgB,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,MAAMC,eAAc,GAAIA,CAAA,KAAMjB,MAAM,CAACgB,IAAI,CAAC,GAAG,CAAC;IAE9C,OAAO;MAAEb,QAAQ;MAAEU,eAAe;MAAEI;IAAgB,CAAC;EACvD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}