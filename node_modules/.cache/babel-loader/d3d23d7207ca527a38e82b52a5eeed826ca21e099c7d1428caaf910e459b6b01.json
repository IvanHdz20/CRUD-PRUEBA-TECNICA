{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProductoTable = _resolveComponent(\"ProductoTable\");\n  const _component_ModalConfirm = _resolveComponent(\"ModalConfirm\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_cache[0] || (_cache[0] = _createElementVNode(\"h1\", {\n      class: \"text-h4 mb-4\"\n    }, \"Gestión de Productos\", -1 /* CACHED */)), _createVNode(_component_ProductoTable, {\n      productos: $setup.store.productos,\n      onCrear: $setup.irCrear,\n      onEditar: $setup.irEditar,\n      onEliminar: $setup.confirmarEliminar\n    }, null, 8 /* PROPS */, [\"productos\", \"onCrear\", \"onEditar\", \"onEliminar\"]), _createVNode(_component_ModalConfirm, {\n      ref: \"modal\",\n      mensaje: \"¿Estás seguro de eliminar este producto?\",\n      onConfirmar: $setup.eliminarConfirmado\n    }, null, 8 /* PROPS */, [\"onConfirmar\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_createElementVNode","class","_createVNode","_component_ProductoTable","productos","$setup","store","onCrear","irCrear","onEditar","irEditar","onEliminar","confirmarEliminar","_component_ModalConfirm","ref","mensaje","onConfirmar","eliminarConfirmado"],"sources":["C:\\Users\\Elpap\\OneDrive\\Desktop\\temp-repo\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <h1 class=\"text-h4 mb-4\">Gestión de Productos</h1>\r\n\r\n    <ProductoTable\r\n      :productos=\"store.productos\"\r\n      @crear=\"irCrear\"\r\n      @editar=\"irEditar\"\r\n      @eliminar=\"confirmarEliminar\"\r\n    />\r\n\r\n    <ModalConfirm\r\n      ref=\"modal\"\r\n      mensaje=\"¿Estás seguro de eliminar este producto?\"\r\n      @confirmar=\"eliminarConfirmado\"\r\n    />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useProductoStore } from \"../stores/productosStore\";\r\nimport ProductoTable from \"../components/ProductoTable.vue\";\r\nimport ModalConfirm from \"../components/ModalConfirm.vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"HomeView\",\r\n  components: { ProductoTable, ModalConfirm },\r\n  setup() {\r\n    const store = useProductoStore();\r\n    const router = useRouter();\r\n    const modal = ref(null);\r\n    const idEliminar = ref(null);\r\n\r\n    onMounted(() => {\r\n      store.obtenerProductos();\r\n    });\r\n\r\n    const irCrear = () => router.push(\"/crear\");\r\n\r\n    \r\n    const irEditar = (id) => {\r\n      if (!id) {\r\n        console.error(\"Id inválido recibido:\", id);\r\n        alert(\"No se puede editar este producto. Id no encontrado.\");\r\n        return;\r\n      }\r\n      router.push(`/editar/${id}`);\r\n    };\r\n\r\n    const confirmarEliminar = (id) => {\r\n      idEliminar.value = id;\r\n      modal.value.abrir();\r\n    };\r\n\r\n    const eliminarConfirmado = async () => {\r\n      await store.eliminarProducto(idEliminar.value);\r\n      await store.obtenerProductos();\r\n    };\r\n\r\n    return { store, irCrear, irEditar, confirmarEliminar, eliminarConfirmado, modal };\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;;;;uBACEA,YAAA,CAecC,sBAAA;sBAdZ,MAAkD,C,0BAAlDC,mBAAA,CAAkD;MAA9CC,KAAK,EAAC;IAAc,GAAC,sBAAoB,qBAE7CC,YAAA,CAKEC,wBAAA;MAJCC,SAAS,EAAEC,MAAA,CAAAC,KAAK,CAACF,SAAS;MAC1BG,OAAK,EAAEF,MAAA,CAAAG,OAAO;MACdC,QAAM,EAAEJ,MAAA,CAAAK,QAAQ;MAChBC,UAAQ,EAAEN,MAAA,CAAAO;iFAGbV,YAAA,CAIEW,uBAAA;MAHAC,GAAG,EAAC,OAAO;MACXC,OAAO,EAAC,0CAA0C;MACjDC,WAAS,EAAEX,MAAA,CAAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}