{"ast":null,"code":"// src/services/productos.js\nconst API_URL = \"http://localhost:3000/productos\";\nasync function handleResponse(res) {\n  if (!res.ok) {\n    // Si el backend responde con error, lanzamos un error\n    throw new Error(`HTTP error! status: ${res.status}`);\n  }\n  return res.json();\n}\nexport async function getProductos() {\n  try {\n    const response = await fetch(API_URL);\n    return await handleResponse(response);\n  } catch (error) {\n    console.error(\"Error al obtener productos:\", error);\n    return []; // Devuelve array vacío si falla\n  }\n}\nexport async function crearProducto(producto) {\n  try {\n    const res = await fetch(API_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(producto)\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(\"Error al crear producto:\", error);\n  }\n}\nexport async function editarProducto(producto) {\n  try {\n    const res = await fetch(`${API_URL}/${producto.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(producto)\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(\"Error al editar producto:\", error);\n  }\n}\nexport async function eliminarProducto(id) {\n  try {\n    const res = await fetch(`${API_URL}/${id}`, {\n      method: \"DELETE\"\n    });\n    return await handleResponse(res);\n  } catch (error) {\n    console.error(\"Error al eliminar producto:\", error);\n  }\n}","map":{"version":3,"names":["API_URL","handleResponse","res","ok","Error","status","json","getProductos","response","fetch","error","console","crearProducto","producto","method","headers","body","JSON","stringify","editarProducto","id","eliminarProducto"],"sources":["C:/Users/Elpap/OneDrive/Desktop/CRUD/productos-vue/src/services/productos.js"],"sourcesContent":["// src/services/productos.js\r\nconst API_URL = \"http://localhost:3000/productos\";\r\n\r\nasync function handleResponse(res) {\r\n  if (!res.ok) {\r\n    // Si el backend responde con error, lanzamos un error\r\n    throw new Error(`HTTP error! status: ${res.status}`);\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport async function getProductos() {\r\n  try {\r\n    const response = await fetch(API_URL);\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error(\"Error al obtener productos:\", error);\r\n    return []; // Devuelve array vacío si falla\r\n  }\r\n}\r\n\r\nexport async function crearProducto(producto) {\r\n  try {\r\n    const res = await fetch(API_URL, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(producto),\r\n    });\r\n    return await handleResponse(res);\r\n  } catch (error) {\r\n    console.error(\"Error al crear producto:\", error);\r\n  }\r\n}\r\n\r\nexport async function editarProducto(producto) {\r\n  try {\r\n    const res = await fetch(`${API_URL}/${producto.id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(producto),\r\n    });\r\n    return await handleResponse(res);\r\n  } catch (error) {\r\n    console.error(\"Error al editar producto:\", error);\r\n  }\r\n}\r\n\r\nexport async function eliminarProducto(id) {\r\n  try {\r\n    const res = await fetch(`${API_URL}/${id}`, { method: \"DELETE\" });\r\n    return await handleResponse(res);\r\n  } catch (error) {\r\n    console.error(\"Error al eliminar producto:\", error);\r\n  }\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,iCAAiC;AAEjD,eAAeC,cAAcA,CAACC,GAAG,EAAE;EACjC,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;IACX;IACA,MAAM,IAAIC,KAAK,CAAC,uBAAuBF,GAAG,CAACG,MAAM,EAAE,CAAC;EACtD;EACA,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACnC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACT,OAAO,CAAC;IACrC,OAAO,MAAMC,cAAc,CAACO,QAAQ,CAAC;EACvC,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,EAAE,CAAC,CAAC;EACb;AACF;AAEA,OAAO,eAAeE,aAAaA,CAACC,QAAQ,EAAE;EAC5C,IAAI;IACF,MAAMX,GAAG,GAAG,MAAMO,KAAK,CAACT,OAAO,EAAE;MAC/Bc,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ;IAC/B,CAAC,CAAC;IACF,OAAO,MAAMZ,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;EAClD;AACF;AAEA,OAAO,eAAeS,cAAcA,CAACN,QAAQ,EAAE;EAC7C,IAAI;IACF,MAAMX,GAAG,GAAG,MAAMO,KAAK,CAAC,GAAGT,OAAO,IAAIa,QAAQ,CAACO,EAAE,EAAE,EAAE;MACnDN,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ;IAC/B,CAAC,CAAC;IACF,OAAO,MAAMZ,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;EACnD;AACF;AAEA,OAAO,eAAeW,gBAAgBA,CAACD,EAAE,EAAE;EACzC,IAAI;IACF,MAAMlB,GAAG,GAAG,MAAMO,KAAK,CAAC,GAAGT,OAAO,IAAIoB,EAAE,EAAE,EAAE;MAAEN,MAAM,EAAE;IAAS,CAAC,CAAC;IACjE,OAAO,MAAMb,cAAc,CAACC,GAAG,CAAC;EAClC,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;EACrD;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}