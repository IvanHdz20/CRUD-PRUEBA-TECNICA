{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProductoForm = _resolveComponent(\"ProductoForm\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_cache[0] || (_cache[0] = _createElementVNode(\"h1\", {\n      class: \"text-h4 mb-4\"\n    }, \"Editar Producto\", -1 /* CACHED */)), _createVNode(_component_ProductoForm, {\n      producto: $setup.producto,\n      onGuardar: $setup.guardarCambios\n    }, null, 8 /* PROPS */, [\"producto\", \"onGuardar\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_createElementVNode","class","_createVNode","_component_ProductoForm","producto","$setup","onGuardar","guardarCambios"],"sources":["C:\\Users\\Elpap\\OneDrive\\Desktop\\CRUD\\productos-vue\\src\\views\\EditarProductoView.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <h1 class=\"text-h4 mb-4\">Editar Producto</h1>\r\n\r\n    <ProductoForm\r\n      :producto=\"producto\"\r\n      @guardar=\"guardarCambios\"\r\n    />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useProductoStore } from \"../stores/productosStore\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport ProductoForm from \"../components/ProductoForm.vue\";\r\nimport { getProductoPorId } from \"../services/productos\";\r\n\r\nexport default {\r\n  name: \"EditarProductoView\",\r\n  components: { ProductoForm },\r\n  setup() {\r\n    const store = useProductoStore();\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    const producto = ref({\r\n      Nombre: \"\",\r\n      Sku: \"\",\r\n      Precio: 0,\r\n      Stock: 0,\r\n      Categoria: \"\",\r\n      Activo: true\r\n    });\r\n\r\n    const cargarProducto = async () => {\r\n      const id = route.params.id;\r\n      const data = await getProductoPorId(id); // FunciÃ³n que llama al backend /:id\r\n      producto.value = data;\r\n    };\r\n\r\n    const guardarCambios = async (productoEditado) => {\r\n      await store.editarProducto(productoEditado);\r\n      router.push(\"/\"); // Volver al listado\r\n    };\r\n\r\n    onMounted(() => {\r\n      cargarProducto();\r\n    });\r\n\r\n    return { producto, guardarCambios };\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;;;uBACEA,YAAA,CAOcC,sBAAA;sBANZ,MAA6C,C,0BAA7CC,mBAAA,CAA6C;MAAzCC,KAAK,EAAC;IAAc,GAAC,iBAAe,qBAExCC,YAAA,CAGEC,uBAAA;MAFCC,QAAQ,EAAEC,MAAA,CAAAD,QAAQ;MAClBE,SAAO,EAAED,MAAA,CAAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}