{"ast":null,"code":"import { ref, watch } from \"vue\";\nimport { useProductoStore } from \"../stores/productosStore\";\nexport default {\n  name: \"ProductoForm\",\n  props: {\n    productoProp: Object\n  },\n  setup(props, {\n    emit\n  }) {\n    const store = useProductoStore();\n    const productoLocal = ref({\n      nombre: \"\",\n      precio: 0,\n      stock: 0\n    });\n\n    // Cuando se pasa un producto a editar\n    watch(() => props.productoProp, nuevo => {\n      if (nuevo) productoLocal.value = {\n        ...nuevo\n      };\n    }, {\n      immediate: true\n    });\n    const guardar = async () => {\n      if (productoLocal.value._id) {\n        await store.actualizarProducto(productoLocal.value._id, productoLocal.value);\n      } else {\n        await store.crearProducto(productoLocal.value);\n      }\n      emit(\"producto-creado\");\n    };\n    return {\n      productoLocal,\n      guardar\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","useProductoStore","name","props","productoProp","Object","setup","emit","store","productoLocal","nombre","precio","stock","nuevo","value","immediate","guardar","_id","actualizarProducto","crearProducto"],"sources":["C:\\Users\\Elpap\\OneDrive\\Desktop\\CRUD\\productos-vue\\src\\components\\ProductoForm.vue"],"sourcesContent":["<template>\r\n  <v-card class=\"pa-4\">\r\n    <v-form ref=\"form\" @submit.prevent=\"guardar\">\r\n      <v-text-field\r\n        v-model=\"productoLocal.nombre\"\r\n        label=\"Nombre\"\r\n        required\r\n      />\r\n      <v-text-field\r\n        v-model.number=\"productoLocal.precio\"\r\n        label=\"Precio\"\r\n        type=\"number\"\r\n        required\r\n      />\r\n      <v-text-field\r\n        v-model.number=\"productoLocal.stock\"\r\n        label=\"Stock\"\r\n        type=\"number\"\r\n        required\r\n      />\r\n      <v-btn type=\"submit\" color=\"primary\" class=\"mt-4\">\r\n        Guardar\r\n      </v-btn>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from \"vue\";\r\nimport { useProductoStore } from \"../stores/productosStore\";\r\n\r\nexport default {\r\n  name: \"ProductoForm\",\r\n  props: {\r\n    productoProp: Object,\r\n  },\r\n  setup(props, { emit }) {\r\n    const store = useProductoStore();\r\n\r\n    const productoLocal = ref({\r\n      nombre: \"\",\r\n      precio: 0,\r\n      stock: 0,\r\n    });\r\n\r\n    // Cuando se pasa un producto a editar\r\n    watch(\r\n      () => props.productoProp,\r\n      (nuevo) => {\r\n        if (nuevo) productoLocal.value = { ...nuevo };\r\n      },\r\n      { immediate: true }\r\n    );\r\n\r\n    const guardar = async () => {\r\n      if (productoLocal.value._id) {\r\n        await store.actualizarProducto(productoLocal.value._id, productoLocal.value);\r\n      } else {\r\n        await store.crearProducto(productoLocal.value);\r\n      }\r\n      emit(\"producto-creado\");\r\n    };\r\n\r\n    return { productoLocal, guardar };\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AA4BA,SAASA,GAAG,EAAEC,KAAI,QAAS,KAAK;AAChC,SAASC,gBAAe,QAAS,0BAA0B;AAE3D,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE;IACLC,YAAY,EAAEC;EAChB,CAAC;EACDC,KAAKA,CAACH,KAAK,EAAE;IAAEI;EAAK,CAAC,EAAE;IACrB,MAAMC,KAAI,GAAIP,gBAAgB,CAAC,CAAC;IAEhC,MAAMQ,aAAY,GAAIV,GAAG,CAAC;MACxBW,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACT,CAAC,CAAC;;IAEF;IACAZ,KAAK,CACH,MAAMG,KAAK,CAACC,YAAY,EACvBS,KAAK,IAAK;MACT,IAAIA,KAAK,EAAEJ,aAAa,CAACK,KAAI,GAAI;QAAE,GAAGD;MAAM,CAAC;IAC/C,CAAC,EACD;MAAEE,SAAS,EAAE;IAAK,CACpB,CAAC;IAED,MAAMC,OAAM,GAAI,MAAAA,CAAA,KAAY;MAC1B,IAAIP,aAAa,CAACK,KAAK,CAACG,GAAG,EAAE;QAC3B,MAAMT,KAAK,CAACU,kBAAkB,CAACT,aAAa,CAACK,KAAK,CAACG,GAAG,EAAER,aAAa,CAACK,KAAK,CAAC;MAC9E,OAAO;QACL,MAAMN,KAAK,CAACW,aAAa,CAACV,aAAa,CAACK,KAAK,CAAC;MAChD;MACAP,IAAI,CAAC,iBAAiB,CAAC;IACzB,CAAC;IAED,OAAO;MAAEE,aAAa;MAAEO;IAAQ,CAAC;EACnC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}