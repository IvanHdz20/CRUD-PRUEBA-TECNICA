{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProductoForm = _resolveComponent(\"ProductoForm\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", {\n      class: \"text-h4 mb-4\"\n    }, \"Editar Producto\", -1 /* CACHED */)), $setup.cargando ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Cargando producto...\")) : (_openBlock(), _createBlock(_component_ProductoForm, {\n      key: 1,\n      productoInicial: $setup.producto,\n      onGuardar: $setup.guardar,\n      onCancelar: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/'))\n    }, null, 8 /* PROPS */, [\"productoInicial\", \"onGuardar\"]))]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_createElementVNode","class","$setup","cargando","_createElementBlock","_hoisted_1","_component_ProductoForm","productoInicial","producto","onGuardar","guardar","onCancelar","_cache","$event","_ctx","$router","push"],"sources":["C:\\Users\\Elpap\\OneDrive\\Desktop\\CRUD\\productos-vue\\src\\views\\EditarProductoView.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <h1 class=\"text-h4 mb-4\">Editar Producto</h1>\r\n\r\n    <div v-if=\"cargando\">Cargando producto...</div>\r\n\r\n    <ProductoForm\r\n      v-else\r\n      :productoInicial=\"producto\"\r\n      @guardar=\"guardar\"\r\n      @cancelar=\"$router.push('/')\"\r\n    />\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { getProductoPorId, editarProducto } from \"../services/productos\";\r\nimport ProductoForm from \"../components/ProductoForm.vue\";\r\n\r\nexport default {\r\n  name: \"EditarProductoView\",\r\n  components: { ProductoForm },\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const producto = ref(null);\r\n    const cargando = ref(true);\r\n\r\n    const cargarProducto = async () => {\r\n      try {\r\n        const data = await getProductoPorId(route.params.id); // <-- toma Id correcto\r\n        producto.value = data;\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      } finally {\r\n        cargando.value = false;\r\n      }\r\n    };\r\n\r\n    const guardar = async (prodEditado) => {\r\n      await editarProducto(prodEditado);\r\n      router.push(\"/\");\r\n    };\r\n\r\n    onMounted(() => cargarProducto());\r\n\r\n    return { producto, cargando, guardar };\r\n  },\r\n};\r\n\r\n</script>\r\n"],"mappings":";;;;;;;;uBACEA,YAAA,CAWcC,sBAAA;sBAVZ,MAA6C,C,0BAA7CC,mBAAA,CAA6C;MAAzCC,KAAK,EAAC;IAAc,GAAC,iBAAe,qBAE7BC,MAAA,CAAAC,QAAQ,I,cAAnBC,mBAAA,CAA+C,OAAAC,UAAA,EAA1B,sBAAoB,M,cAEzCP,YAAA,CAKEQ,uBAAA;;MAHCC,eAAe,EAAEL,MAAA,CAAAM,QAAQ;MACzBC,SAAO,EAAEP,MAAA,CAAAQ,OAAO;MAChBC,UAAQ,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,OAAO,CAACC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}